{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.supportsMutation = exports.isPrimaryRenderer = exports.cancelPassiveEffects = exports.schedulePassiveEffects = exports.noTimeout = exports.cancelTimeout = exports.scheduleTimeout = exports.cancelDeferredCallback = exports.shouldYield = exports.scheduleDeferredCallback = exports.now = undefined;\n\nvar _HostConfigWithNoPersistence = require('./HostConfigWithNoPersistence');\n\nObject.keys(_HostConfigWithNoPersistence).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _HostConfigWithNoPersistence[key];\n    }\n  });\n});\n\nvar _HostConfigWithNoHydration = require('./HostConfigWithNoHydration');\n\nObject.keys(_HostConfigWithNoHydration).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _HostConfigWithNoHydration[key];\n    }\n  });\n});\n\nvar _scheduler = require('scheduler');\n\nObject.defineProperty(exports, 'now', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_now;\n  }\n});\nObject.defineProperty(exports, 'scheduleDeferredCallback', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_scheduleCallback;\n  }\n});\nObject.defineProperty(exports, 'shouldYield', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_shouldYield;\n  }\n});\nObject.defineProperty(exports, 'cancelDeferredCallback', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_cancelCallback;\n  }\n});\nexports.appendInitialChild = appendInitialChild;\nexports.createInstance = createInstance;\nexports.createTextInstance = createTextInstance;\nexports.finalizeInitialChildren = finalizeInitialChildren;\nexports.getPublicInstance = getPublicInstance;\nexports.prepareForCommit = prepareForCommit;\nexports.prepareUpdate = prepareUpdate;\nexports.resetAfterCommit = resetAfterCommit;\nexports.resetTextContent = resetTextContent;\nexports.shouldDeprioritizeSubtree = shouldDeprioritizeSubtree;\nexports.getRootHostContext = getRootHostContext;\nexports.getChildHostContext = getChildHostContext;\nexports.shouldSetTextContent = shouldSetTextContent;\nexports.appendChild = appendChild;\nexports.appendChildToContainer = appendChildToContainer;\nexports.insertBefore = insertBefore;\nexports.insertInContainerBefore = insertInContainerBefore;\nexports.removeChild = removeChild;\nexports.removeChildFromContainer = removeChildFromContainer;\nexports.commitTextUpdate = commitTextUpdate;\nexports.commitMount = commitMount;\nexports.commitUpdate = commitUpdate;\nexports.hideInstance = hideInstance;\nexports.hideTextInstance = hideTextInstance;\nexports.unhideInstance = unhideInstance;\nexports.unhideTextInstance = unhideTextInstance;\nexports.clearContainer = clearContainer;\n\nvar _Core = require('konva/lib/Core');\n\nvar _Core2 = _interopRequireDefault(_Core);\n\nvar _makeUpdates = require('./makeUpdates');\n\nvar _invariant = require('./invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar NO_CONTEXT = {};\nvar UPDATE_SIGNAL = {}; // for react-spring capability\n\n_Core2.default.Node.prototype._applyProps = _makeUpdates.applyNodeProps;\n\nfunction appendInitialChild(parentInstance, child) {\n  if (typeof child === 'string') {\n    // Noop for string children of Text (eg <Text>foo</Text>)\n    (0, _invariant2.default)(false, 'Don not use plain text as child of Konva.Node. You are using text: \"%s\"', child);\n    return;\n  }\n\n  parentInstance.add(child);\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction createInstance(type, props, internalInstanceHandle) {\n  var NodeClass = _Core2.default[type];\n\n  if (!NodeClass) {\n    (0, _invariant2.default)(instance, 'Konva has no node with the type \"%s\". If you use minimal version of react-konva, just import required nodes into Konva: `import \"konva/lib/shapes/%s\"`  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html', type, type);\n    return;\n  } // we need to split props into events and non events\n  // we we can pass non events into constructor directly\n  // that way the performance should be better\n  // we we apply change \"applyNodeProps\"\n  // then it will trigger change events on first run\n  // but we don't need them!\n\n\n  var propsWithoutEvents = {};\n  var propsWithOnlyEvents = {};\n\n  for (var key in props) {\n    var isEvent = key.slice(0, 2) === 'on';\n\n    if (isEvent) {\n      propsWithOnlyEvents[key] = props[key];\n    } else {\n      propsWithoutEvents[key] = props[key];\n    }\n  }\n\n  var instance = new NodeClass(propsWithoutEvents);\n  (0, _makeUpdates.applyNodeProps)(instance, propsWithOnlyEvents);\n  return instance;\n}\n\nfunction createTextInstance(text, rootContainerInstance, internalInstanceHandle) {\n  (0, _invariant2.default)(false, 'Text components are not supported for now in ReactKonva. You text is: \"' + text + '\"');\n}\n\nfunction finalizeInitialChildren(domElement, type, props) {\n  return false;\n}\n\nfunction getPublicInstance(instance) {\n  return instance;\n}\n\nfunction prepareForCommit() {\n  return null;\n}\n\nfunction prepareUpdate(domElement, type, oldProps, newProps) {\n  return UPDATE_SIGNAL;\n}\n\nfunction resetAfterCommit() {// Noop\n}\n\nfunction resetTextContent(domElement) {// Noop\n}\n\nfunction shouldDeprioritizeSubtree(type, props) {\n  return false;\n}\n\nfunction getRootHostContext() {\n  return NO_CONTEXT;\n}\n\nfunction getChildHostContext() {\n  return NO_CONTEXT;\n}\n\nvar scheduleTimeout = exports.scheduleTimeout = setTimeout;\nvar cancelTimeout = exports.cancelTimeout = clearTimeout;\nvar noTimeout = exports.noTimeout = -1;\nvar schedulePassiveEffects = exports.schedulePassiveEffects = _scheduler.unstable_scheduleCallback;\nvar cancelPassiveEffects = exports.cancelPassiveEffects = _scheduler.unstable_cancelCallback;\n\nfunction shouldSetTextContent(type, props) {\n  return false;\n} // The Konva renderer is secondary to the React DOM renderer.\n\n\nvar isPrimaryRenderer = exports.isPrimaryRenderer = false;\nvar supportsMutation = exports.supportsMutation = true;\n\nfunction appendChild(parentInstance, child) {\n  if (child.parent === parentInstance) {\n    child.moveToTop();\n  } else {\n    parentInstance.add(child);\n  }\n\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction appendChildToContainer(parentInstance, child) {\n  if (child.parent === parentInstance) {\n    child.moveToTop();\n  } else {\n    parentInstance.add(child);\n  }\n\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction insertBefore(parentInstance, child, beforeChild) {\n  (0, _invariant2.default)(child !== beforeChild, 'ReactKonva: Can not insert node before itself'); // child._remove() will not stop dragging\n  // but child.remove() will stop it, but we don't need it\n  // removing will reset zIndexes\n\n  child._remove();\n\n  parentInstance.add(child);\n  child.setZIndex(beforeChild.getZIndex());\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction insertInContainerBefore(parentInstance, child, beforeChild) {\n  insertBefore(parentInstance, child, beforeChild);\n}\n\nfunction removeChild(parentInstance, child) {\n  child.destroy();\n  child.off(_makeUpdates.EVENTS_NAMESPACE);\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction removeChildFromContainer(parentInstance, child) {\n  child.destroy();\n  child.off(_makeUpdates.EVENTS_NAMESPACE);\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction commitTextUpdate(textInstance, oldText, newText) {\n  (0, _invariant2.default)(false, 'Text components are not yet supported in ReactKonva. You text is: \"' + newText + '\"');\n}\n\nfunction commitMount(instance, type, newProps) {// Noop\n}\n\nfunction commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n  (0, _makeUpdates.applyNodeProps)(instance, newProps, oldProps);\n}\n\nfunction hideInstance(instance) {\n  instance.hide();\n  (0, _makeUpdates.updatePicture)(instance);\n}\n\nfunction hideTextInstance(textInstance) {// Noop\n}\n\nfunction unhideInstance(instance, props) {\n  if (props.visible == null || props.visible) {\n    instance.show();\n  }\n}\n\nfunction unhideTextInstance(textInstance, text) {// Noop\n}\n\nfunction clearContainer(container) {// Noop\n}","map":{"version":3,"sources":["/Users/talhakhalil/Desktop/CodeDoodle/code_doodle/node_modules/react-konva/lib/ReactKonvaHostConfig.js"],"names":["exports","__esModule","supportsMutation","isPrimaryRenderer","cancelPassiveEffects","schedulePassiveEffects","noTimeout","cancelTimeout","scheduleTimeout","cancelDeferredCallback","shouldYield","scheduleDeferredCallback","now","undefined","_HostConfigWithNoPersistence","require","Object","keys","forEach","key","defineProperty","enumerable","get","_HostConfigWithNoHydration","_scheduler","unstable_now","unstable_scheduleCallback","unstable_shouldYield","unstable_cancelCallback","appendInitialChild","createInstance","createTextInstance","finalizeInitialChildren","getPublicInstance","prepareForCommit","prepareUpdate","resetAfterCommit","resetTextContent","shouldDeprioritizeSubtree","getRootHostContext","getChildHostContext","shouldSetTextContent","appendChild","appendChildToContainer","insertBefore","insertInContainerBefore","removeChild","removeChildFromContainer","commitTextUpdate","commitMount","commitUpdate","hideInstance","hideTextInstance","unhideInstance","unhideTextInstance","clearContainer","_Core","_Core2","_interopRequireDefault","_makeUpdates","_invariant","_invariant2","obj","default","NO_CONTEXT","UPDATE_SIGNAL","Node","prototype","_applyProps","applyNodeProps","parentInstance","child","add","updatePicture","type","props","internalInstanceHandle","NodeClass","instance","propsWithoutEvents","propsWithOnlyEvents","isEvent","slice","text","rootContainerInstance","domElement","oldProps","newProps","setTimeout","clearTimeout","parent","moveToTop","beforeChild","_remove","setZIndex","getZIndex","destroy","off","EVENTS_NAMESPACE","textInstance","oldText","newText","updatePayload","hide","visible","show","container"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.supportsMutation = exports.isPrimaryRenderer = exports.cancelPassiveEffects = exports.schedulePassiveEffects = exports.noTimeout = exports.cancelTimeout = exports.scheduleTimeout = exports.cancelDeferredCallback = exports.shouldYield = exports.scheduleDeferredCallback = exports.now = undefined;\n\nvar _HostConfigWithNoPersistence = require('./HostConfigWithNoPersistence');\n\nObject.keys(_HostConfigWithNoPersistence).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _HostConfigWithNoPersistence[key];\n    }\n  });\n});\n\nvar _HostConfigWithNoHydration = require('./HostConfigWithNoHydration');\n\nObject.keys(_HostConfigWithNoHydration).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _HostConfigWithNoHydration[key];\n    }\n  });\n});\n\nvar _scheduler = require('scheduler');\n\nObject.defineProperty(exports, 'now', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_now;\n  }\n});\nObject.defineProperty(exports, 'scheduleDeferredCallback', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_scheduleCallback;\n  }\n});\nObject.defineProperty(exports, 'shouldYield', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_shouldYield;\n  }\n});\nObject.defineProperty(exports, 'cancelDeferredCallback', {\n  enumerable: true,\n  get: function get() {\n    return _scheduler.unstable_cancelCallback;\n  }\n});\nexports.appendInitialChild = appendInitialChild;\nexports.createInstance = createInstance;\nexports.createTextInstance = createTextInstance;\nexports.finalizeInitialChildren = finalizeInitialChildren;\nexports.getPublicInstance = getPublicInstance;\nexports.prepareForCommit = prepareForCommit;\nexports.prepareUpdate = prepareUpdate;\nexports.resetAfterCommit = resetAfterCommit;\nexports.resetTextContent = resetTextContent;\nexports.shouldDeprioritizeSubtree = shouldDeprioritizeSubtree;\nexports.getRootHostContext = getRootHostContext;\nexports.getChildHostContext = getChildHostContext;\nexports.shouldSetTextContent = shouldSetTextContent;\nexports.appendChild = appendChild;\nexports.appendChildToContainer = appendChildToContainer;\nexports.insertBefore = insertBefore;\nexports.insertInContainerBefore = insertInContainerBefore;\nexports.removeChild = removeChild;\nexports.removeChildFromContainer = removeChildFromContainer;\nexports.commitTextUpdate = commitTextUpdate;\nexports.commitMount = commitMount;\nexports.commitUpdate = commitUpdate;\nexports.hideInstance = hideInstance;\nexports.hideTextInstance = hideTextInstance;\nexports.unhideInstance = unhideInstance;\nexports.unhideTextInstance = unhideTextInstance;\nexports.clearContainer = clearContainer;\n\nvar _Core = require('konva/lib/Core');\n\nvar _Core2 = _interopRequireDefault(_Core);\n\nvar _makeUpdates = require('./makeUpdates');\n\nvar _invariant = require('./invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NO_CONTEXT = {};\nvar UPDATE_SIGNAL = {};\n\n// for react-spring capability\n_Core2.default.Node.prototype._applyProps = _makeUpdates.applyNodeProps;\n\nfunction appendInitialChild(parentInstance, child) {\n  if (typeof child === 'string') {\n    // Noop for string children of Text (eg <Text>foo</Text>)\n    (0, _invariant2.default)(false, 'Don not use plain text as child of Konva.Node. You are using text: \"%s\"', child);\n    return;\n  }\n\n  parentInstance.add(child);\n\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction createInstance(type, props, internalInstanceHandle) {\n  var NodeClass = _Core2.default[type];\n  if (!NodeClass) {\n    (0, _invariant2.default)(instance, 'Konva has no node with the type \"%s\". If you use minimal version of react-konva, just import required nodes into Konva: `import \"konva/lib/shapes/%s\"`  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html', type, type);\n    return;\n  }\n\n  // we need to split props into events and non events\n  // we we can pass non events into constructor directly\n  // that way the performance should be better\n  // we we apply change \"applyNodeProps\"\n  // then it will trigger change events on first run\n  // but we don't need them!\n  var propsWithoutEvents = {};\n  var propsWithOnlyEvents = {};\n\n  for (var key in props) {\n    var isEvent = key.slice(0, 2) === 'on';\n    if (isEvent) {\n      propsWithOnlyEvents[key] = props[key];\n    } else {\n      propsWithoutEvents[key] = props[key];\n    }\n  }\n\n  var instance = new NodeClass(propsWithoutEvents);\n\n  (0, _makeUpdates.applyNodeProps)(instance, propsWithOnlyEvents);\n\n  return instance;\n}\n\nfunction createTextInstance(text, rootContainerInstance, internalInstanceHandle) {\n  (0, _invariant2.default)(false, 'Text components are not supported for now in ReactKonva. You text is: \"' + text + '\"');\n}\n\nfunction finalizeInitialChildren(domElement, type, props) {\n  return false;\n}\n\nfunction getPublicInstance(instance) {\n  return instance;\n}\n\nfunction prepareForCommit() {\n  return null;\n}\n\nfunction prepareUpdate(domElement, type, oldProps, newProps) {\n  return UPDATE_SIGNAL;\n}\n\nfunction resetAfterCommit() {\n  // Noop\n}\n\nfunction resetTextContent(domElement) {\n  // Noop\n}\n\nfunction shouldDeprioritizeSubtree(type, props) {\n  return false;\n}\n\nfunction getRootHostContext() {\n  return NO_CONTEXT;\n}\n\nfunction getChildHostContext() {\n  return NO_CONTEXT;\n}\n\nvar scheduleTimeout = exports.scheduleTimeout = setTimeout;\nvar cancelTimeout = exports.cancelTimeout = clearTimeout;\nvar noTimeout = exports.noTimeout = -1;\nvar schedulePassiveEffects = exports.schedulePassiveEffects = _scheduler.unstable_scheduleCallback;\nvar cancelPassiveEffects = exports.cancelPassiveEffects = _scheduler.unstable_cancelCallback;\n\nfunction shouldSetTextContent(type, props) {\n  return false;\n}\n\n// The Konva renderer is secondary to the React DOM renderer.\nvar isPrimaryRenderer = exports.isPrimaryRenderer = false;\n\nvar supportsMutation = exports.supportsMutation = true;\n\nfunction appendChild(parentInstance, child) {\n  if (child.parent === parentInstance) {\n    child.moveToTop();\n  } else {\n    parentInstance.add(child);\n  }\n\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction appendChildToContainer(parentInstance, child) {\n  if (child.parent === parentInstance) {\n    child.moveToTop();\n  } else {\n    parentInstance.add(child);\n  }\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction insertBefore(parentInstance, child, beforeChild) {\n  (0, _invariant2.default)(child !== beforeChild, 'ReactKonva: Can not insert node before itself');\n  // child._remove() will not stop dragging\n  // but child.remove() will stop it, but we don't need it\n  // removing will reset zIndexes\n  child._remove();\n  parentInstance.add(child);\n  child.setZIndex(beforeChild.getZIndex());\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction insertInContainerBefore(parentInstance, child, beforeChild) {\n  insertBefore(parentInstance, child, beforeChild);\n}\n\nfunction removeChild(parentInstance, child) {\n  child.destroy();\n  child.off(_makeUpdates.EVENTS_NAMESPACE);\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction removeChildFromContainer(parentInstance, child) {\n  child.destroy();\n  child.off(_makeUpdates.EVENTS_NAMESPACE);\n  (0, _makeUpdates.updatePicture)(parentInstance);\n}\n\nfunction commitTextUpdate(textInstance, oldText, newText) {\n  (0, _invariant2.default)(false, 'Text components are not yet supported in ReactKonva. You text is: \"' + newText + '\"');\n}\n\nfunction commitMount(instance, type, newProps) {\n  // Noop\n}\n\nfunction commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n  (0, _makeUpdates.applyNodeProps)(instance, newProps, oldProps);\n}\n\nfunction hideInstance(instance) {\n  instance.hide();\n  (0, _makeUpdates.updatePicture)(instance);\n}\n\nfunction hideTextInstance(textInstance) {\n  // Noop\n}\n\nfunction unhideInstance(instance, props) {\n  if (props.visible == null || props.visible) {\n    instance.show();\n  }\n}\n\nfunction unhideTextInstance(textInstance, text) {\n  // Noop\n}\n\nfunction clearContainer(container) {\n  // Noop\n}"]},"metadata":{},"sourceType":"script"}